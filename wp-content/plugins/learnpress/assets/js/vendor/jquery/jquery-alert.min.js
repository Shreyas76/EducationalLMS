!function(a){a.alerts={verticalOffset:-75,horizontalOffset:0,repositionOnResize:!0,overlayOpacity:.01,overlayColor:"#FFF",draggable:!0,okButton:"&nbsp;OK&nbsp;",cancelButton:"&nbsp;Cancel&nbsp;",dialogClass:null,alert:function(p,o,e){null==o&&(o="Alert"),a.alerts._show(o,p,null,"alert",function(p){e&&e(p)})},confirm:function(p,o,e){null==o&&(o="Confirm"),a.alerts._show(o,p,null,"confirm",function(p){e&&e(p)})},prompt:function(p,o,e,t){null==e&&(e="Prompt"),a.alerts._show(e,p,o,"prompt",function(p){t&&t(p)})},_show:function(p,o,e,t,i){a.alerts._hide(),a.alerts._overlay("show"),a("BODY").append('<div id="popup_container"><h1 id="popup_title"></h1><div id="popup_content"><div id="popup_message"></div></div></div>'),a.alerts.dialogClass&&a("#popup_container").addClass(a.alerts.dialogClass);var n=a.browser.msie&&parseInt(a.browser.version)<=6?"absolute":"fixed";switch(a("#popup_container").css({position:n,zIndex:99999,padding:0,margin:0}),a("#popup_title").text(p),a("#popup_content").addClass(t),a("#popup_message").text(o),a("#popup_message").html(a("#popup_message").text().replace(/\n/g,"<br />")),a("#popup_container").css({minWidth:a("#popup_container").outerWidth(),maxWidth:a("#popup_container").outerWidth()}),a.alerts._reposition(),a.alerts._maintainPosition(!0),t){case"alert":a("#popup_message").after('<div id="popup_panel"><input type="button" value="'+a.alerts.okButton+'" id="popup_ok" /></div>'),a("#popup_ok").click(function(){a.alerts._hide(),i(!0)}),a("#popup_ok").focus().keypress(function(p){13!=p.keyCode&&27!=p.keyCode||a("#popup_ok").trigger("click")});break;case"confirm":a("#popup_message").after('<div id="popup_panel"><input type="button" value="'+a.alerts.okButton+'" id="popup_ok" /> <input type="button" value="'+a.alerts.cancelButton+'" id="popup_cancel" /></div>'),a("#popup_ok").click(function(){a.alerts._hide(),i&&i(!0)}),a("#popup_cancel").click(function(){a.alerts._hide(),i&&i(!1)}),a("#popup_ok").focus(),a("#popup_ok, #popup_cancel").keypress(function(p){13==p.keyCode&&a("#popup_ok").trigger("click"),27==p.keyCode&&a("#popup_cancel").trigger("click")});break;case"prompt":a("#popup_message").append('<br /><input type="text" size="30" id="popup_prompt" />').after('<div id="popup_panel"><input type="button" value="'+a.alerts.okButton+'" id="popup_ok" /> <input type="button" value="'+a.alerts.cancelButton+'" id="popup_cancel" /></div>'),a("#popup_prompt").width(a("#popup_message").width()),a("#popup_ok").click(function(){var p=a("#popup_prompt").val();a.alerts._hide(),i&&i(p)}),a("#popup_cancel").click(function(){a.alerts._hide(),i&&i(null)}),a("#popup_prompt, #popup_ok, #popup_cancel").keypress(function(p){13==p.keyCode&&a("#popup_ok").trigger("click"),27==p.keyCode&&a("#popup_cancel").trigger("click")}),e&&a("#popup_prompt").val(e),a("#popup_prompt").focus().select()}if(a.alerts.draggable)try{a("#popup_container").draggable({handle:a("#popup_title")}),a("#popup_title").css({cursor:"move"})}catch(p){}},_hide:function(){a("#popup_container").remove(),a.alerts._overlay("hide"),a.alerts._maintainPosition(!1)},_overlay:function(p){switch(p){case"show":a.alerts._overlay("hide"),a("BODY").append('<div id="popup_overlay"></div>'),a("#popup_overlay").css({position:"absolute",zIndex:99998,top:"0px",left:"0px",width:"100%",height:a(document).height(),background:a.alerts.overlayColor,opacity:a.alerts.overlayOpacity});break;case"hide":a("#popup_overlay").remove()}},_reposition:function(){var p=a(window).height()/2-a("#popup_container").outerHeight()/2+a.alerts.verticalOffset,o=a(window).width()/2-a("#popup_container").outerWidth()/2+a.alerts.horizontalOffset;p<0&&(p=0),o<0&&(o=0),a.browser.msie&&parseInt(a.browser.version)<=6&&(p+=a(window).scrollTop()),a("#popup_container").css({top:p+"px",left:o+"px"}),a("#popup_overlay").height(a(document).height())},_maintainPosition:function(p){if(a.alerts.repositionOnResize)switch(p){case!0:a(window).bind("resize",a.alerts._reposition);break;case!1:a(window).unbind("resize",a.alerts._reposition)}}},window.jAlert=function(p,o,e){a.alerts.alert(p,o,e)},window.jConfirm=function(p,o,e){a.alerts.confirm(p,o,e)},window.jPrompt=function(p,o,e,t){a.alerts.prompt(p,o,e,t)}}(jQuery);